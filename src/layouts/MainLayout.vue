
<template>
  <q-layout class="bg-image" view="hHh lpR lFf">
    <header v-if="getUser.currentPage != 'Log' && getUser.currentPage != 'Superadmin' && getUser.currentPage != 'Start_quiz'" class="header-nav">
          <div class="main-container">
            <nav>
              <ul class="header-nav__list">
                <li>
                  <a href="#" @click="changePage('News')">
                    <svg class="icon" width="28" height="22" viewBox="0 0 28 22" xmlns="http://www.w3.org/2000/svg">
                      <path d="M22.9998 21.6666H4.99984C3.89299 21.6667 2.82807 21.2432 2.02353 20.4831C1.21899 19.7229 0.735835 18.6837 0.673171 17.5786L0.666504 17.3333V3.33331C0.666411 2.57314 0.954898 1.84128 1.47366 1.28564C1.99243 0.729999 2.70278 0.392009 3.46117 0.33998L3.6665 0.333313H20.3332C21.0933 0.33322 21.8252 0.621707 22.3808 1.14047C22.9365 1.65924 23.2745 2.36959 23.3265 3.12798L23.3332 3.33331V4.33331H24.3332C25.0933 4.33322 25.8252 4.62171 26.3808 5.14047C26.9365 5.65924 27.2745 6.36959 27.3265 7.12798L27.3332 7.33331V17.3333C27.3332 18.4402 26.9098 19.5051 26.1496 20.3096C25.3895 21.1142 24.3502 21.5973 23.2452 21.66L22.9998 21.6666H4.99984H22.9998ZM4.99984 19.6666H22.9998C23.5856 19.6666 24.15 19.4462 24.5808 19.0492C25.0116 18.6523 25.2773 18.1078 25.3252 17.524L25.3332 17.3333V7.33331C25.3332 7.09166 25.2456 6.85819 25.0868 6.67607C24.928 6.49395 24.7086 6.37551 24.4692 6.34265L24.3332 6.33331H23.3332V16.6666C23.3332 16.9083 23.2456 17.1418 23.0868 17.3239C22.928 17.506 22.7086 17.6244 22.4692 17.6573L22.3332 17.6666C22.0915 17.6666 21.858 17.5791 21.6759 17.4203C21.4938 17.2615 21.3754 17.042 21.3425 16.8026L21.3332 16.6666V3.33331C21.3332 3.09166 21.2456 2.85819 21.0868 2.67607C20.928 2.49395 20.7086 2.37551 20.4692 2.34265L20.3332 2.33331H3.6665C3.42485 2.33332 3.19138 2.42084 3.00926 2.57967C2.82714 2.7385 2.7087 2.95791 2.67584 3.19731L2.6665 3.33331V17.3333C2.66653 17.9189 2.88673 18.4831 3.28341 18.9138C3.68009 19.3446 4.22424 19.6105 4.80784 19.6586L4.99984 19.6666H22.9998H4.99984ZM14.3278 14.3333H18.3358C18.5892 14.3334 18.8331 14.4296 19.0182 14.6026C19.2034 14.7756 19.3159 15.0124 19.3332 15.2652C19.3505 15.5179 19.2712 15.7678 19.1113 15.9644C18.9514 16.1609 18.7228 16.2894 18.4718 16.324L18.3358 16.3333H14.3278C14.0745 16.3332 13.8306 16.237 13.6454 16.064C13.4603 15.891 13.3477 15.6542 13.3305 15.4015C13.3132 15.1487 13.3925 14.8988 13.5524 14.7022C13.7123 14.5057 13.9408 14.3772 14.1918 14.3426L14.3278 14.3333H18.3358H14.3278ZM10.3238 9.67331C10.5891 9.67331 10.8434 9.77867 11.0309 9.9662C11.2185 10.1537 11.3238 10.4081 11.3238 10.6733V15.3333C11.3238 15.5985 11.2185 15.8529 11.0309 16.0404C10.8434 16.228 10.5891 16.3333 10.3238 16.3333H5.66384C5.39862 16.3333 5.14427 16.228 4.95673 16.0404C4.76919 15.8529 4.66384 15.5985 4.66384 15.3333V10.6733C4.66384 10.4081 4.76919 10.1537 4.95673 9.9662C5.14427 9.77867 5.39862 9.67331 5.66384 9.67331H10.3238ZM9.32384 11.6733H6.66384V14.3333H9.32384V11.6733ZM14.3278 9.67331H18.3358C18.5892 9.67339 18.8331 9.76964 19.0182 9.94261C19.2034 10.1156 19.3159 10.3524 19.3332 10.6052C19.3505 10.8579 19.2712 11.1078 19.1113 11.3044C18.9514 11.5009 18.7228 11.6294 18.4718 11.664L18.3358 11.6733H14.3278C14.0727 11.6759 13.8262 11.5809 13.6388 11.4076C13.4514 11.2344 13.3374 10.9961 13.32 10.7415C13.3026 10.4869 13.3832 10.2353 13.5453 10.0382C13.7074 9.8411 13.9387 9.71342 14.1918 9.68131L14.3278 9.67331H18.3358H14.3278ZM5.66384 5.00265H18.3358C18.591 5.00005 18.8375 5.0951 19.0249 5.26834C19.2123 5.44158 19.3263 5.67989 19.3437 5.93448C19.3611 6.18907 19.2805 6.44067 19.1184 6.63777C18.9563 6.83486 18.725 6.96254 18.4718 6.99465L18.3358 7.00265H5.66384C5.41047 7.00257 5.16658 6.90632 4.98145 6.73335C4.79631 6.56038 4.68374 6.32358 4.66647 6.07081C4.6492 5.81803 4.72852 5.56812 4.88841 5.37158C5.0483 5.17504 5.27684 5.04651 5.52784 5.01198L5.66384 5.00265H18.3358H5.66384Z" />
                    </svg>
                    <span> Новини </span>
                  </a>
                </li>
                <li>
                  <a href="#" @click="changePage('Categories')">
                    <svg class="icon" width="32" height="28" viewBox="0 0 32 28" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M17 1.66669C17 1.40147 16.8946 1.14712 16.7071 0.95958C16.5196 0.772044 16.2652 0.666687 16 0.666687C15.7348 0.666687 15.4804 0.772044 15.2929 0.95958C15.1053 1.14712 15 1.40147 15 1.66669V4.00002H12.368C11.8996 3.99981 11.442 4.14058 11.0546 4.40402L8.79465 5.94269C8.73917 5.98026 8.67365 6.00024 8.60665 6.00002H3.13731C2.8721 6.00002 2.61774 6.10538 2.43021 6.29291C2.24267 6.48045 2.13731 6.7348 2.13731 7.00002C2.13731 7.26524 2.24267 7.51959 2.43021 7.70713C2.61774 7.89466 2.8721 8.00002 3.13731 8.00002H5.23998L0.750648 18.24C0.66585 18.4399 0.647284 18.6616 0.697672 18.8727C0.74806 19.0839 0.864752 19.2733 1.03065 19.4134C1.13731 19.4987 1.24531 19.58 1.44265 19.708C1.69065 19.8694 2.04531 20.0787 2.49865 20.2854C3.40531 20.7 4.71465 21.112 6.33331 21.112C7.65602 21.1146 8.9638 20.8326 10.168 20.2854C10.6213 20.0787 10.976 19.8694 11.224 19.708C11.424 19.5787 11.5306 19.4974 11.6373 19.4107C11.8045 19.2723 11.9222 19.0832 11.9724 18.872C12.0227 18.6608 12.0029 18.439 11.916 18.24L7.42531 8.00002H8.60665C9.07465 8.00002 9.53198 7.85869 9.91865 7.59602L12.18 6.05735C12.2351 6.02004 12.3001 6.00007 12.3666 6.00002H15V25.3334H9.01731C8.7521 25.3334 8.49774 25.4387 8.31021 25.6262C8.12267 25.8138 8.01731 26.0681 8.01731 26.3334C8.01731 26.5986 8.12267 26.8529 8.31021 27.0405C8.49774 27.228 8.7521 27.3334 9.01731 27.3334H22.9826C23.2479 27.3334 23.5022 27.228 23.6898 27.0405C23.8773 26.8529 23.9826 26.5986 23.9826 26.3334C23.9826 26.0681 23.8773 25.8138 23.6898 25.6262C23.5022 25.4387 23.2479 25.3334 22.9826 25.3334H17V6.00002H19.632C19.6986 6.00002 19.7653 6.02002 19.8186 6.05735L22.0813 7.59602C22.468 7.85869 22.9253 8.00002 23.3933 8.00002H24.5746L20.084 18.24C19.9942 18.4448 19.9756 18.6737 20.0312 18.8903C20.0868 19.1068 20.2133 19.2985 20.3906 19.4347C20.4066 19.4467 20.3906 19.4347 20.3933 19.4347C20.5256 19.5343 20.6636 19.626 20.8066 19.7094C21.0533 19.8587 21.4066 20.0507 21.86 20.2427C23.0656 20.7466 24.3599 21.0041 25.6666 21C26.9739 21.0039 28.2687 20.7459 29.4746 20.2414C29.9253 20.0507 30.28 19.8587 30.528 19.7094C30.6705 19.6252 30.8085 19.5335 30.9413 19.4347C31.1186 19.2985 31.2452 19.1068 31.3008 18.8903C31.3564 18.6737 31.3378 18.4448 31.248 18.24L26.76 8.00002H28.864C29.1292 8.00002 29.3836 7.89466 29.5711 7.70713C29.7586 7.51959 29.864 7.26524 29.864 7.00002C29.864 6.7348 29.7586 6.48045 29.5711 6.29291C29.3836 6.10538 29.1292 6.00002 28.864 6.00002H23.3946C23.3281 5.99997 23.2631 5.98 23.208 5.94269L20.9453 4.40402C20.5584 4.14084 20.1013 4.00008 19.6333 4.00002H17V1.66669ZM2.92398 18.264C3.97345 18.8225 5.14452 19.1133 6.33331 19.1107C7.52211 19.1133 8.69318 18.8225 9.74265 18.264L6.33331 10.4907L2.92398 18.264ZM22.2706 18.232C22.38 18.2854 22.5026 18.3427 22.6373 18.4C23.344 18.6974 24.3773 19 25.6666 19C26.8421 19.0034 28.003 18.7408 29.0626 18.232L25.6666 10.4894L22.2706 18.232Z" />
                    </svg>
                    <span> Закони </span>
                  </a>
                </li>
                <li>
                  <a href="#" @click="changePage('Statistics')">
                    <svg class="icon" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10.8574 21.1427H7.42676V12.5733H10.8574V21.1427ZM17.7148 21.1427H14.2854V4H17.7148V21.1427ZM24.5708 21.1427H21.1441V9.14267H24.5708V21.1427Z" />
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M28 27.6187H4V24.952H28V27.6187Z" />
                    </svg>
                    <span> Статистика </span>
                  </a>
                </li>
                <li>
                  <a href="#" @click="changePage('Rooms')">
                    <svg class="icon" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                      <path d="M20 15.996C20 16.2612 19.8946 16.5155 19.7071 16.7031C19.5196 16.8906 19.2652 16.996 19 16.996C18.7348 16.996 18.4804 16.8906 18.2929 16.7031C18.1054 16.5155 18 16.2612 18 15.996C18 15.7308 18.1054 15.4764 18.2929 15.2889C18.4804 15.1013 18.7348 14.996 19 14.996C19.2652 14.996 19.5196 15.1013 19.7071 15.2889C19.8946 15.4764 20 15.7308 20 15.996Z" />
                      <path d="M15.196 4.02001C15.051 3.99102 14.9013 3.99456 14.7578 4.03037C14.6144 4.06619 14.4806 4.13338 14.3662 4.22711C14.2518 4.32085 14.1596 4.43879 14.0963 4.57244C14.033 4.70608 14.0001 4.85212 14 5.00001V26.994C14.0001 27.1419 14.033 27.2879 14.0963 27.4216C14.1596 27.5552 14.2518 27.6732 14.3662 27.7669C14.4806 27.8606 14.6144 27.9278 14.7578 27.9636C14.9013 27.9995 15.051 28.003 15.196 27.974L25.196 25.974C25.4226 25.9287 25.6265 25.8063 25.7731 25.6277C25.9197 25.449 25.9999 25.2251 26 24.994V7.00001C25.9999 6.76891 25.9197 6.545 25.7731 6.36634C25.6265 6.18768 25.4226 6.0653 25.196 6.02001L15.196 4.02001ZM16 25.774V6.22001L24 7.82001V24.174L16 25.774Z" />
                      <path d="M12 25.994V23.994H8V8H12V6H7C6.73478 6 6.48043 6.10536 6.29289 6.29289C6.10536 6.48043 6 6.73478 6 7V24.994C6 25.2592 6.10536 25.5136 6.29289 25.7011C6.48043 25.8886 6.73478 25.994 7 25.994H12Z" />
                    </svg>
                    <span> Кімнати </span>
                  </a>
                </li>
                <li>
                  <a href="#" @click="changePage('Voting')">
                    <svg class="icon" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                      <path d="M20 15.996C20 16.2612 19.8946 16.5155 19.7071 16.7031C19.5196 16.8906 19.2652 16.996 19 16.996C18.7348 16.996 18.4804 16.8906 18.2929 16.7031C18.1054 16.5155 18 16.2612 18 15.996C18 15.7308 18.1054 15.4764 18.2929 15.2889C18.4804 15.1013 18.7348 14.996 19 14.996C19.2652 14.996 19.5196 15.1013 19.7071 15.2889C19.8946 15.4764 20 15.7308 20 15.996Z" />
                      <path d="M15.196 4.02001C15.051 3.99102 14.9013 3.99456 14.7578 4.03037C14.6144 4.06619 14.4806 4.13338 14.3662 4.22711C14.2518 4.32085 14.1596 4.43879 14.0963 4.57244C14.033 4.70608 14.0001 4.85212 14 5.00001V26.994C14.0001 27.1419 14.033 27.2879 14.0963 27.4216C14.1596 27.5552 14.2518 27.6732 14.3662 27.7669C14.4806 27.8606 14.6144 27.9278 14.7578 27.9636C14.9013 27.9995 15.051 28.003 15.196 27.974L25.196 25.974C25.4226 25.9287 25.6265 25.8063 25.7731 25.6277C25.9197 25.449 25.9999 25.2251 26 24.994V7.00001C25.9999 6.76891 25.9197 6.545 25.7731 6.36634C25.6265 6.18768 25.4226 6.0653 25.196 6.02001L15.196 4.02001ZM16 25.774V6.22001L24 7.82001V24.174L16 25.774Z" />
                      <path d="M12 25.994V23.994H8V8H12V6H7C6.73478 6 6.48043 6.10536 6.29289 6.29289C6.10536 6.48043 6 6.73478 6 7V24.994C6 25.2592 6.10536 25.5136 6.29289 25.7011C6.48043 25.8886 6.73478 25.994 7 25.994H12Z" />
                    </svg>
                    <span> Голосування </span>
                  </a>
                </li>
                <li>
                  <a href="#" @click="changePage('Rules')">
                    <svg class="icon" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                      <path d="M20 15.996C20 16.2612 19.8946 16.5155 19.7071 16.7031C19.5196 16.8906 19.2652 16.996 19 16.996C18.7348 16.996 18.4804 16.8906 18.2929 16.7031C18.1054 16.5155 18 16.2612 18 15.996C18 15.7308 18.1054 15.4764 18.2929 15.2889C18.4804 15.1013 18.7348 14.996 19 14.996C19.2652 14.996 19.5196 15.1013 19.7071 15.2889C19.8946 15.4764 20 15.7308 20 15.996Z" />
                      <path d="M15.196 4.02001C15.051 3.99102 14.9013 3.99456 14.7578 4.03037C14.6144 4.06619 14.4806 4.13338 14.3662 4.22711C14.2518 4.32085 14.1596 4.43879 14.0963 4.57244C14.033 4.70608 14.0001 4.85212 14 5.00001V26.994C14.0001 27.1419 14.033 27.2879 14.0963 27.4216C14.1596 27.5552 14.2518 27.6732 14.3662 27.7669C14.4806 27.8606 14.6144 27.9278 14.7578 27.9636C14.9013 27.9995 15.051 28.003 15.196 27.974L25.196 25.974C25.4226 25.9287 25.6265 25.8063 25.7731 25.6277C25.9197 25.449 25.9999 25.2251 26 24.994V7.00001C25.9999 6.76891 25.9197 6.545 25.7731 6.36634C25.6265 6.18768 25.4226 6.0653 25.196 6.02001L15.196 4.02001ZM16 25.774V6.22001L24 7.82001V24.174L16 25.774Z" />
                      <path d="M12 25.994V23.994H8V8H12V6H7C6.73478 6 6.48043 6.10536 6.29289 6.29289C6.10536 6.48043 6 6.73478 6 7V24.994C6 25.2592 6.10536 25.5136 6.29289 25.7011C6.48043 25.8886 6.73478 25.994 7 25.994H12Z" />
                    </svg>
                    <span> Конституція </span>
                  </a>
                </li>
                <li v-if="getUser.group == 'Admin'">
                  <a href="#"  @click="changePage('Admin')">
                    <!-- <svg class="icon" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                    </svg> -->
                    <q-img class="icon" src="../images/lock.png">
                    </q-img>
                     <svg class="icon"  width="32" height="32"> -->
                    </svg>
                    <span> Адмінпанель </span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </header>

        <q-footer v-if="getUser.currentPage != 'Log' && getUser.currentPage != 'Superadmin' && getUser.currentPage != 'Start_quiz'" class="footer-nav">
          <div class="container">
            <nav>
              <ul class="footer-nav__list">
                <li>
                    <span> {{ getUser.username }} </span>
                </li>
                <li>
                    <span> {{ getUser.group }} </span>
                </li>
                <li>
                    <span> Фаза: {{ getCurrentGame.gamePhase }} </span>
                </li>
                <li>
                    <span> Раунд: {{getCurrentGame.gameStage}} </span>
                </li>
                <li>
                    <span> Законів лишилось: {{ getCurrentGame.groups[getUser.group].pushes }} </span>
                </li>
                <li>
                    <span> Голосів лишилось: {{ getCurrentGame.groups[getUser.group].votes }} </span>
                </li>
              </ul>
            </nav>
          </div>
        </q-footer>

    <q-page-container>
      <router-view />
    </q-page-container>

  </q-layout>
</template>

<script>
import { mapGetters } from 'vuex'

export default {
  name: 'PageIndex',
  computed: {
    ...mapGetters([
      'getUser',
      'getCurrentGame'
    ])
  },
  methods: {
    changePage (page) {
      this.$store.commit('setPage', page)
    }
  }
}
</script>
